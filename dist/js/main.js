(()=>{"use strict";(e=>{const t=document.querySelector("#timer-hours"),o=document.querySelector("#timer-minutes"),a=document.querySelector("#timer-seconds"),l=setInterval((()=>{let e=(new Date("13 January 2022").getTime()-(new Date).getTime())/1e3,s=Math.floor(e/60/60),c=Math.floor(e/60%60),n=Math.floor(e%60);e>0?(t.textContent=s<10?"0"+s:s,o.textContent=c<10?"0"+c:c,a.textContent=n<10?"0"+n:n):clearInterval(l)}),1e3)})(),(()=>{document.querySelector(".menu");const e=document.querySelector("menu"),t=()=>e.classList.toggle("active-menu");document.addEventListener("click",(o=>{let a=o.target;e.classList.contains("active-menu")&&!a.closest(".active-menu")&&t(),a.closest(".menu")&&t(),(a.classList.contains("close-btn")||a.matches("ul>li>a"))&&t()}))})(),(()=>{const e=document.querySelector(".service"),t=document.querySelector(".popup");e.addEventListener("click",(e=>{e.target.classList.contains("popup-btn")&&(t.style.opacity=0,t.style.display="block",document.documentElement.clientWidth<768?t.style.opacity=1:(({timing:e,draw:t,duration:o})=>{let a=performance.now();requestAnimationFrame((function l(s){let c=(s-a)/o;c>1&&(c=1);let n=e(c);t(n),c<1&&requestAnimationFrame(l)}))})({duration:500,timing:e=>e,draw(e){t.style.opacity=e}})),t.addEventListener("click",(e=>{let o=e.target;(o.classList.contains("popup")||o.classList.contains("popup-close"))&&(t.style.display="none")}))}))})(),(()=>{const e=document.querySelectorAll("form"),t=(document.querySelectorAll(".form-btn"),document.querySelectorAll("input[name=user_name]")),o=document.querySelectorAll("input[name=user_email]"),a=document.querySelectorAll("input[name=user_phone]"),l=(document.querySelector(".calc-type"),document.querySelectorAll("input.calc-item")),s=document.querySelector(".mess");let c=/\D/g,n=!0;t.forEach((e=>{e.addEventListener("input",(e=>{var t;t=e.target.value,/([^а-я-\s]+)/gi.test(t)?(n=!0,e.target.style.backgroundColor="#FF7F50"):(n=!1,e.target.style.backgroundColor="#fff")}))})),a.forEach((e=>{e.addEventListener("input",(e=>{let t="";var o;/(\d{1})(\d{3})(\d{3})(\d{2})(\d{2}$)/g.test(e.target.value)&&(t=e.target.value.replace(/(\d{1})(\d{3})(\d{3})(\d{2})(\d{2})/g,((e,t,o,a,l,s)=>{let c="";return c=`${t}(${o})${a}-${l}-${s}`,c})),e.target.value=t),o=e.target.value,/^\d{1}\(\d{3}\)\d{3}-\d{2}-\d{2}$/g.test(o)?(n=!1,e.target.style.backgroundColor="#fff"):(n=!0,e.target.style.backgroundColor="#FF7F50")}))})),o.forEach((e=>{e.addEventListener("input",(e=>{var t;t=e.target.value,/^([a-z0-9_~'*!-]+\.)*[a-z0-9_~'*!-]+@[a-z0-9_-]+(\.[a-z0-9_-]+)*\.[a-z]{2,6}$/g.test(t)?(n=!1,e.target.style.backgroundColor="#fff"):(n=!0,e.target.style.backgroundColor="#FF7F50")}))})),s.addEventListener("input",(e=>{var t;t=e.target.value,/([^а-я-,\s]+)/gi.test(t)?(n=!0,e.target.style.backgroundColor="#FF7F50"):(n=!1,e.target.style.backgroundColor="#fff")})),e.forEach((e=>{e.addEventListener("submit",(e=>{e.preventDefault(),n||((e,t=[])=>{console.log("someElem",t);const o=document.createElement("div");let a={},l=new FormData(e);o.style.color="#fff",o.classList.add("message"),l.forEach(((e,t)=>{a[t]=e})),t.forEach((e=>{const t=document.querySelector(`#${e.id}`);a[e.id]=t.textContent}));try{const t=t=>(e.querySelector(".message")&&e.removeChild(e.querySelector(".message")),e.append(o),o.textContent="Отправка...",fetch("https://jsonplaceholder.typicode.com/posts",{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}}).then((e=>e.json())).then((t=>{e.querySelectorAll("input").forEach((e=>{e.value=""})),o.textContent="Ваше сообщение успешно отправлено! Наш менеджер скоро свяжется с Вами!",console.log("data",t),console.log("Отправка формы")})).catch((e=>{o.textContent="Ошибка отправки, попробуйте позже..."})));t(a)}catch(e){console.log(e,"Что то пошло не так!")}console.log("formBody: ",a),console.log(t)})(e.target,[{type:"block",id:"total"}])}))})),l.forEach((e=>{e.addEventListener("input",(e=>{e.target.value=e.target.value.replace(c,"")}))}))})(),(()=>{const e=document.querySelector(".service-header"),t=document.querySelectorAll(".service-header-tab"),o=document.querySelectorAll(".service-tab");e.addEventListener("click",(e=>{let a=e.target.closest(".service-header-tab");a&&t.forEach(((e,t)=>{e==a?(e.classList.add("active"),o[t].classList.remove("d-none")):(e.classList.remove("active"),o[t].classList.add("d-none"))}))}))})(),(()=>{const e=document.querySelector("#all-progects"),t=document.querySelectorAll(".portfolio-item"),o=document.querySelector(".portfolio-dots");for(let e=0;e<t.length;e++){const t=document.createElement("li");t.classList.add("dot"),0==e&&t.classList.add("dot-active"),o.insertAdjacentElement("beforeend",t)}const a=document.querySelectorAll(".dot");let l,s=0;const c=()=>{s==t.length-1?(a[s].classList.remove("dot-active"),t[s].classList.remove("portfolio-item-active"),s=0,t[s].classList.add("portfolio-item-active"),a[s].classList.add("dot-active")):(t[s].classList.remove("portfolio-item-active"),a[s].classList.remove("dot-active"),s++,t[s].classList.add("portfolio-item-active"),a[s].classList.add("dot-active"))},n=()=>{clearInterval(l)},r=()=>{l=setInterval(c,2500)};e.addEventListener("click",(e=>{e.preventDefault();let o=e.target;o.classList.contains("prev")?(n(),t[s].classList.remove("portfolio-item-active"),a[s].classList.remove("dot-active"),0==s?(s=t.length-1,t[s].classList.add("portfolio-item-active"),a[s].classList.add("dot-active")):(s--,t[s].classList.add("portfolio-item-active"),a[s].classList.add("dot-active")),r()):o.classList.contains("next")?(n(),t[s].classList.remove("portfolio-item-active"),a[s].classList.remove("dot-active"),s==t.length-1?(s=0,t[s].classList.add("portfolio-item-active"),a[s].classList.add("dot-active")):(s++,t[s].classList.add("portfolio-item-active"),a[s].classList.add("dot-active")),r()):o.classList.contains("dot")&&(e=>{n(),a.forEach(((o,l)=>{e==o&&(t[s].classList.remove("portfolio-item-active"),a[s].classList.remove("dot-active"),s=l,t[s].classList.add("portfolio-item-active"),a[s].classList.add("dot-active"),r())}))})(o)})),e.addEventListener("mouseenter",(e=>{e.preventDefault();let t=e.target;(t.classList.contains("prev")||t.classList.contains("next")||t.classList.contains("dot"))&&(console.log("Стоп сладер"),n())}),!0),e.addEventListener("mouseleave",(e=>{e.preventDefault();let t=e.target;(t.classList.contains("prev")||t.classList.contains("next")||t.classList.contains("dot"))&&(console.log("Старт сладер"),n(),r())}),!0),r()})(),((e=100)=>{const t=document.querySelector(".calc-block"),o=t.querySelector(".calc-type"),a=t.querySelector(".calc-square"),l=t.querySelector(".calc-count"),s=t.querySelector(".calc-day"),c=t.querySelector("#total");let n,r=0;t.addEventListener("input",(t=>{let i=t.target;i!==o&&i!==a&&i!==l&&i!==s||(clearInterval(n),(e=>{let t=1,i=1,d=1;if(+l.value>1)for(let e=0;e<+l.value;e++)i+=.1;s.value&&+s.value<5?d=2:s.value&&+s.value<10&&(d=1.5),console.dir(o),o.options[o.selectedIndex].dataset.price&&(e=o.options[o.selectedIndex].dataset.price),t=o.options[o.selectedIndex].value,r=Math.round(e*+t*+a.value*i*d),console.log(e),console.log("calcTypeCoeff: ",t),console.log("calcCountCoeff: ",i),console.log("calcDayCoeff: ",d),console.log("totalPrice: ",r),r?(()=>{let e=0,t=0;t=r>5e3?.01:25,n=setInterval((()=>{c.textContent=e,e>=r?(c.textContent=r,clearInterval(n)):e+=111}),t)})():c.textContent=r})(e))}))})(100)})();